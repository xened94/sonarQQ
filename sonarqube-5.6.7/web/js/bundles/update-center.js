webpackJsonp([25],{0:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var a=n(392),l=s(a),i=n(395),r=s(i),o=n(1454),u=s(o),c=n(1456),d=s(c),p=n(1458),h=s(p),f=n(1460),g=s(f),m=n(1468),v=s(m),b=n(1470),y=s(b),_=n(1471),w=s(_),x=n(1472),C=s(x),j=new r["default"].Application,E=function(){var e=window.sonarqube;this.state=new l["default"].Model({updateCenterActive:window.SS.updateCenterActive}),this.layout=new u["default"]({el:e.el}),this.layout.render(),this.plugins=new C["default"],this.controller=new y["default"]({collection:this.plugins,state:this.state}),this.router=new w["default"]({controller:this.controller}),this.headerView=new d["default"]({collection:this.plugins}),this.layout.headerRegion.show(this.headerView),this.searchView=new h["default"]({collection:this.plugins,router:this.router,state:this.state}),this.layout.searchRegion.show(this.searchView),this.searchView.focusSearch(),this.listView=new g["default"]({collection:this.plugins}),this.layout.listRegion.show(this.listView),this.footerView=new v["default"]({collection:this.plugins}),this.layout.footerRegion.show(this.footerView),l["default"].history.start({pushState:!0,root:e.urlRoot})};j.on("start",function(){E.call(j)}),window.sonarqube.appStarted.then(function(e){return j.start(e)})},248:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function i(e){return new b(e)}function r(e){if(401===e.status)return window.location=window.baseUrl+"/sessions/new?return_to="+encodeURIComponent(window.location.pathname+window.location.search+window.location.hash),{};if(e.status>=200&&e.status<300)return e;var t=new Error(e.status);throw t.response=e,t}function o(e){return e.json()}function u(e,t){return i(e).setData(t).submit().then(r).then(o)}function c(e,t){return i(e).setMethod("POST").setData(t).submit().then(r).then(o)}function d(e,t){return i(e).setMethod("POST").setData(t).submit().then(r)}function p(e){return new Promise(function(t){return setTimeout(function(){return t(e)},3e3)})}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();t.request=i,t.checkStatus=r,t.parseJSON=o,t.getJSON=u,t.postJSON=c,t.post=d,t.delay=p;var f=n(249),g=s(f),m={method:"GET",credentials:"same-origin"},v={Accept:"application/json"},b=function(){function e(t){a(this,e),this.url=t,this.options={},this.headers={}}return h(e,[{key:"submit",value:function(){var e=this.url,t=g["default"].defaults(this.options,m);return t.headers=g["default"].defaults(this.headers,v),this.data&&("GET"===t.method?e+="?"+l(this.data):(t.headers["Content-Type"]="application/x-www-form-urlencoded",t.body=l(this.data))),window.fetch(e,t)}},{key:"setMethod",value:function(e){return this.options.method=e,this}},{key:"setData",value:function(e){return this.data=e,this}}]),e}()},416:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var a=n(261),l=s(a);e.exports=function(e){return(0,l["default"])(e).format("LL")}},417:function(e,t){"use strict";e.exports=function(){var e=Array.prototype.slice.call(arguments,0,-1);return window.t.apply(this,e)}},442:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(353),l=s(a),i=n(395),r=s(i);t["default"]=r["default"].ItemView.extend({className:"bubble-popup",onRender:function(){this.$el.detach().appendTo((0,l["default"])("body")),this.options.bottom?(this.$el.addClass("bubble-popup-bottom"),this.$el.css({top:this.options.triggerEl.offset().top+this.options.triggerEl.outerHeight(),left:this.options.triggerEl.offset().left})):this.options.bottomRight?(this.$el.addClass("bubble-popup-bottom-right"),this.$el.css({top:this.options.triggerEl.offset().top+this.options.triggerEl.outerHeight(),right:(0,l["default"])(window).width()-this.options.triggerEl.offset().left-this.options.triggerEl.outerWidth()})):this.$el.css({top:this.options.triggerEl.offset().top,left:this.options.triggerEl.offset().left+this.options.triggerEl.outerWidth()}),this.attachCloseEvents()},attachCloseEvents:function(){var e=this;key("escape",function(){e.destroy()}),(0,l["default"])("body").on("click.bubble-popup",function(){(0,l["default"])("body").off("click.bubble-popup"),e.destroy()}),this.options.triggerEl.on("click.bubble-popup",function(t){e.options.triggerEl.off("click.bubble-popup"),t.stopPropagation(),e.destroy()})},onDestroy:function(){(0,l["default"])("body").off("click.bubble-popup"),this.options.triggerEl.off("click.bubble-popup")}})},474:function(e,t){"use strict";e.exports=function(e,t,n){return e==t?n.fn(this):n.inverse(this)}},483:function(e,t){"use strict";e.exports=function(e,t,n){return e!=t?n.fn(this):n.inverse(this)}},492:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var a=n(249),l=s(a);e.exports=function(e,t){var n=l["default"].isArray(e)&&e.length>0;return n?t.fn(this):t.inverse(this)}},497:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(353),l=s(a),i=n(395),r=s(i),o="modal";t["default"]=r["default"].ItemView.extend({className:"modal",overlayClassName:"modal-overlay",htmlClassName:"modal-open",events:function(){return{"click .js-modal-close":"onCloseClick"}},onRender:function(){var e=this;this.$el.detach().appendTo((0,l["default"])("body")),(0,l["default"])("html").addClass(this.htmlClassName),this.renderOverlay(),this.keyScope=key.getScope(),key.setScope("modal"),key("escape","modal",function(){return e.destroy(),!1}),this.show(),this.options.large&&this.$el.addClass("modal-large")},show:function(){var e=this;setTimeout(function(){e.$el.addClass("in"),(0,l["default"])("."+e.overlayClassName).addClass("in")},0)},onDestroy:function(){(0,l["default"])("html").removeClass(this.htmlClassName),this.removeOverlay(),key.deleteScope("modal"),key.setScope(this.keyScope)},onCloseClick:function(e){e.preventDefault(),this.destroy()},renderOverlay:function(){var e=(0,l["default"])("."+this.overlayClassName);0===e.length&&(0,l["default"])('<div class="'+this.overlayClassName+'"></div>').appendTo((0,l["default"])("body"))},removeOverlay:function(){(0,l["default"])("."+this.overlayClassName).remove()},attachCloseEvents:function(){var e=this;(0,l["default"])("body").on("click."+o,function(){(0,l["default"])("body").off("click."+o),e.destroy()})}})},504:function(e,t){"use strict";e.exports=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=t[t.length-1],a=t.slice(0,-1),l=a.reduce(function(e,t){return e||t},!1);return l?s.fn(this):s.inverse(this)}},689:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(249),l=s(a),i=n(497),r=s(i);t["default"]=r["default"].extend({ui:function(){return{messagesContainer:".js-modal-messages"}},events:function(){return l["default"].extend(r["default"].prototype.events.apply(this,arguments),{"keydown input,textarea,select":"onInputKeydown","submit form":"onFormSubmit"})},onRender:function(){r["default"].prototype.onRender.apply(this,arguments);var e=this;setTimeout(function(){e.$(":tabbable").first().focus()},0)},onInputKeydown:function(e){27===e.keyCode&&this.destroy()},onFormSubmit:function(e){e.preventDefault()},showErrors:function(e,t){var n=this.ui.messagesContainer.empty();l["default"].isArray(e)&&e.forEach(function(e){var t='<div class="alert alert-danger">'+e.msg+"</div>";n.append(t)}),l["default"].isArray(t)&&t.forEach(function(e){var t='<div class="alert alert-warning">'+e.msg+"</div>";n.append(t)}),this.ui.messagesContainer.scrollParent().scrollTop(0)},disableForm:function(){var e=this.$("form");this.disabledFields=e.find(":input:not(:disabled)"),this.disabledFields.prop("disabled",!0)},enableForm:function(){null!=this.disabledFields&&this.disabledFields.prop("disabled",!1)}})},1445:function(e,t,n){"use strict";function s(e){var t=window.baseUrl+"/api/system/change_log_level",n={level:e};return(0,c.post)(t,n)}function a(){var e=window.baseUrl+"/api/system/info";return(0,c.getJSON)(e)}function l(){var e=window.baseUrl+"/api/system/status";return(0,c.getJSON)(e)}function i(){var e=window.baseUrl+"/api/system/restart";return(0,c.post)(e)}function r(e){setTimeout(function(){l().then(function(t){"UP"===t.status?e():r(e)})["catch"](function(){return r(e)})},d)}function o(){return new Promise(function(e){return r(e)})}function u(){return i().then(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=s,t.getSystemInfo=a,t.getStatus=l,t.restart=i,t.restartAndWait=u;var c=n(248),d=2e3},1451:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(689),l=s(a),i=n(1452),r=s(i),o=n(1453),u=s(o),c=n(1445),d=l["default"].extend({template:r["default"],restartingTemplate:u["default"],initialize:function(){this.restarting=!1},getTemplate:function(){return this.restarting?this.restartingTemplate:this.template},onFormSubmit:function(){l["default"].prototype.onFormSubmit.apply(this,arguments),this.restarting=!0,this.render(),(0,c.restartAndWait)().then(function(){document.location.reload()})}});t["default"]=d},1452:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,s){return'<form id="restart-server-form">\n  <div class="modal-head">\n    <h2>Restart Server</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    <p class="spacer-top spacer-bottom">\n      Are you sure you want to restart the server?\n    </p>\n  </div>\n  <div class="modal-foot">\n    <button id="restart-server-submit">Restart</button>\n    <a href="#" class="js-modal-close" id="restart-server-cancel">Cancel</a>\n  </div>\n</form>\n'},useData:!0})},1453:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,s){return'<form id="restart-server-form">\n  <div class="modal-head">\n    <h2>Restart Server</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    <p class="spacer-top spacer-bottom text-center">\n      Server is restarting. This page will be automatically refreshed.\n    </p>\n    <p class="big-spacer-top spacer-bottom text-center">\n      <i class="spinner"></i>\n    </p>\n  </div>\n</form>\n'},useData:!0})},1454:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(395),l=s(a),i=n(1455),r=s(i);t["default"]=l["default"].LayoutView.extend({template:r["default"],regions:{headerRegion:"#update-center-header",searchRegion:"#update-center-search",listRegion:"#update-center-plugins",footerRegion:"#update-center-footer"}})},1455:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,s){return'<div class="page">\n  <div id="update-center-header"></div>\n  <div id="update-center-search"></div>\n  <div id="update-center-plugins"></div>\n  <div id="update-center-footer"></div>\n</div>\n'},useData:!0})},1456:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(249),l=s(a),i=n(395),r=s(i),o=n(1457),u=s(o),c=n(1451),d=s(c);t["default"]=r["default"].ItemView.extend({template:u["default"],collectionEvents:{all:"render"},events:{"click .js-restart":"restart","click .js-cancel-all":"cancelAll"},restart:function(){(new d["default"]).render()},cancelAll:function(){this.collection.cancelAll()},serializeData:function(){return l["default"].extend(r["default"].ItemView.prototype.serializeData.apply(this,arguments),{installing:this.collection._installedCount,updating:this.collection._updatedCount,uninstalling:this.collection._uninstalledCount})}})},1457:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({1:function(e,t,n,s){var a,l='  <div class="js-pending panel panel-warning big-spacer-bottom">\n    <div class="display-inline-block">\n      <p>SonarQube needs to be restarted in order to</p>\n      <ul class="list-styled spacer-top">\n';return a=t["if"].call(e,null!=e?e.installing:e,{name:"if",hash:{},fn:this.program(2,s),inverse:this.noop,data:s}),null!=a&&(l+=a),a=t["if"].call(e,null!=e?e.updating:e,{name:"if",hash:{},fn:this.program(4,s),inverse:this.noop,data:s}),null!=a&&(l+=a),a=t["if"].call(e,null!=e?e.uninstalling:e,{name:"if",hash:{},fn:this.program(6,s),inverse:this.noop,data:s}),null!=a&&(l+=a),l+'      </ul>\n    </div>\n    <div class="pull-right">\n      <button class="js-restart">Restart</button>\n      <button class="js-cancel-all button-red">Revert</button>\n    </div>\n  </div>\n'},2:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'          <li>\n            install\n            <strong class="big text-success little-spacer-left little-spacer-right">'+l(a(null!=e?e.installing:e,e))+"</strong> plugins\n          </li>\n"},4:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'          <li>\n            update\n            <strong class="big text-success little-spacer-left little-spacer-right">'+l(a(null!=e?e.updating:e,e))+"</strong> plugins\n          </li>\n"},6:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'          <li>\n            uninstall\n            <strong class="big text-danger little-spacer-left little-spacer-right">'+l(a(null!=e?e.uninstalling:e,e))+"</strong> plugins\n          </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,s,a){var l,i=this.escapeExpression,r='<header class="page-header">\n  <h1 class="page-title">'+i(n(417).call(e,"update_center.page",{name:"t",hash:{},data:a}))+'</h1>\n  <p class="page-description">'+i(n(417).call(e,"update_center.page.description",{name:"t",hash:{},data:a}))+"</p>\n</header>\n\n";return l=n(504).call(e,null!=e?e.installing:e,null!=e?e.updating:e,null!=e?e.uninstalling:e,{name:"any",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=l&&(r+=l),r},useData:!0})},1458:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(249),l=s(a),i=n(395),r=s(i),o=n(1459),u=s(o);t["default"]=r["default"].ItemView.extend({template:u["default"],events:{'change [name="update-center-filter"]':"onFilterChange","submit #update-center-search-form":"onFormSubmit","search #update-center-search-query":"onKeyUp","keyup #update-center-search-query":"onKeyUp","change #update-center-search-query":"onKeyUp"},collectionEvents:{filter:"onFilter"},initialize:function(){this._bufferedValue=null,this.search=l["default"].debounce(this.search,50),this.listenTo(this.options.state,"change",this.render)},onRender:function(){this.$('[data-toggle="tooltip"]').tooltip({container:"body",placement:"bottom"})},onDestroy:function(){this.$('[data-toggle="tooltip"]').tooltip("destroy")},onFilterChange:function(){var e=this.$('[name="update-center-filter"]:checked').val();this.filter(e)},filter:function(e){this.options.router.navigate(e,{trigger:!0})},onFormSubmit:function(e){e.preventDefault(),this.debouncedOnKeyUp()},onKeyUp:function(){var e=this.getQuery();e!==this._bufferedValue&&(this._bufferedValue=this.getQuery(),this.search(e))},getQuery:function(){return this.$("#update-center-search-query").val()},search:function(e){this.collection.search(e)},focusSearch:function(){var e=this;setTimeout(function(){e.$("#update-center-search-query").focus()},0)},onFilter:function(e){var t=e.get("category");this.$("#update-center-search-query").val(t),this.search(t)},serializeData:function(){return l["default"].extend(r["default"].ItemView.prototype.serializeData.apply(this,arguments),{state:this.options.state.toJSON()})}})},1459:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({1:function(e,t,n,s){return"checked"},3:function(e,t,n,s){return"disabled"},5:function(e,t,n,s){return'data-toggle="tooltip" title="Update Center is not activated."'},7:function(e,t,n,s){return'    <form id="update-center-search-form" class="search-box display-inline-block text-top">\n      <button id="update-center-search-submit" class="search-box-submit button-clean"><i class="icon-search"></i>\n      </button>\n      <input id="update-center-search-query" class="search-box-input" type="search" name="q" placeholder="Search"\n             maxlength="100" autocomplete="off">\n    </form>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,s,a){var l,i='<div class="panel panel-vertical bordered-bottom spacer-bottom">\n  <div class="display-inline-block text-top nowrap big-spacer-right">\n    <ul class="radio-toggle">\n      <li>\n        <input type="radio" name="update-center-filter" value="installed" id="update-center-filter-installed"\n               ';return l=n(474).call(e,null!=(l=null!=e?e.state:e)?l.section:l,"installed",{name:"eq",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+='>\n        <label for="update-center-filter-installed">Installed</label>\n      </li>\n      <li>\n        <input type="radio" name="update-center-filter" value="updates" id="update-center-filter-updates"\n          ',l=n(474).call(e,null!=(l=null!=e?e.state:e)?l.section:l,"updates",{name:"eq",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+=" ",l=t.unless.call(e,null!=(l=null!=e?e.state:e)?l.updateCenterActive:l,{name:"unless",hash:{},fn:this.program(3,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+='>\n        <label for="update-center-filter-updates"\n          ',l=t.unless.call(e,null!=(l=null!=e?e.state:e)?l.updateCenterActive:l,{name:"unless",hash:{},fn:this.program(5,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+='>\n          Updates Only\n        </label>\n      </li>\n      <li>\n        <input type="radio" name="update-center-filter" value="available" id="update-center-filter-available"\n          ',l=n(474).call(e,null!=(l=null!=e?e.state:e)?l.section:l,"available",{name:"eq",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+=" ",l=t.unless.call(e,null!=(l=null!=e?e.state:e)?l.updateCenterActive:l,{name:"unless",hash:{},fn:this.program(3,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+='>\n        <label for="update-center-filter-available"\n          ',l=t.unless.call(e,null!=(l=null!=e?e.state:e)?l.updateCenterActive:l,{name:"unless",hash:{},fn:this.program(5,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+='>\n          Available\n        </label>\n      </li>\n    </ul>\n\n    <ul class="radio-toggle">\n      <li>\n        <input type="radio" name="update-center-filter" value="system" id="update-center-filter-system"\n          ',l=n(474).call(e,null!=(l=null!=e?e.state:e)?l.section:l,"system",{name:"eq",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+=" ",l=t.unless.call(e,null!=(l=null!=e?e.state:e)?l.updateCenterActive:l,{name:"unless",hash:{},fn:this.program(3,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+='>\n        <label for="update-center-filter-system"\n          ',l=t.unless.call(e,null!=(l=null!=e?e.state:e)?l.updateCenterActive:l,{name:"unless",hash:{},fn:this.program(5,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+=">\n          System Upgrades\n        </label>\n      </li>\n    </ul>\n  </div>\n\n",l=n(483).call(e,null!=(l=null!=e?e.state:e)?l.section:l,"system",{name:"notEq",hash:{},fn:this.program(7,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+"</div>\n"},useData:!0})},1460:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(395),l=s(a),i=n(1461),r=s(i);t["default"]=l["default"].CollectionView.extend({tagName:"ul",childView:r["default"]})},1461:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(353),l=s(a),i=n(392),r=s(i),o=n(395),u=s(o),c=n(1462),d=s(c),p=n(1465),h=s(p),f=n(1467),g=s(f);t["default"]=u["default"].ItemView.extend({tagName:"li",className:"panel panel-vertical",template:h["default"],systemTemplate:g["default"],modelEvents:{"change:_hidden":"toggleDisplay",change:"onModelChange",request:"onRequest"},events:{"click .js-changelog":"onChangelogClick","click .js-install":"install","click .js-update":"update","click .js-uninstall":"uninstall","change .js-terms":"onTermsChange","click .js-plugin-category":"onCategoryClick"},getTemplate:function(){return this.model.get("_system")?this.systemTemplate:this.template},onRender:function(){this.$el.attr("data-id",this.model.id),this.model.get("_system")&&this.$el.attr("data-system",""),this.$('[data-toggle="tooltip"]').tooltip({container:"body",placement:"bottom"})},onDestroy:function(){this.$('[data-toggle="tooltip"]').tooltip("destroy")},onModelChange:function(){this.model.hasChanged("_hidden")||this.render()},onChangelogClick:function(e){e.preventDefault(),e.stopPropagation(),(0,l["default"])("body").click();var t=(0,l["default"])(e.currentTarget).data("idx"),n=this.model.has("release")?this.model.toJSON():this.model.get("updates")[t],s=new d["default"]({triggerEl:(0,l["default"])(e.currentTarget),model:new r["default"].Model(n)});s.render()},onRequest:function(){this.$(".js-actions").addClass("hidden"),this.$(".js-spinner").removeClass("hidden")},toggleDisplay:function(){this.$el.toggleClass("hidden",this.model.get("_hidden"))},install:function(){this.model.install()},update:function(){this.model.update()},uninstall:function(){this.model.uninstall()},onTermsChange:function(){var e=this.$(".js-terms").is(":checked");this.$(".js-install").prop("disabled",!e)},onCategoryClick:function(e){e.preventDefault(),this.model.trigger("filter",this.model)}})},1462:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(249),l=s(a),i=n(442),r=s(i),o=n(1463),u=s(o);t["default"]=r["default"].extend({template:u["default"],onRender:function(){r["default"].prototype.onRender.apply(this,arguments),this.$(".bubble-popup-container").isolatedScroll(),this.$('[data-toggle="tooltip"]').tooltip({container:"body",placement:"bottom"})},onDestroy:function(){r["default"].prototype.onDestroy.apply(this,arguments),this.$('[data-toggle="tooltip"]').tooltip("destroy")},serializeData:function(){return l["default"].extend(r["default"].prototype.serializeData.apply(this,arguments),{status:this.model.get("status")||"COMPATIBLE"})}})},1463:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({1:function(e,t,s,a){var l,i='      <li class="big-spacer-bottom">\n';return l=this.invokePartial(n(1464),"        ","_update-center-plugin-changelog-entry",e,void 0,t,s,a),null!=l&&(i+=l),i+"      </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,s,a){var l,i='<div class="bubble-popup-container">\n  <div class="bubble-popup-title">Changelog</div>\n\n  <ul class="js-plugin-changelog-list">\n';return l=t.each.call(e,null!=e?e.previousUpdates:e,{name:"each",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i+='    <li class="spacer-bottom">\n',l=this.invokePartial(n(1464),"      ","_update-center-plugin-changelog-entry",e,void 0,t,s,a),null!=l&&(i+=l),i+'    </li>\n  </ul>\n</div>\n\n<div class="bubble-popup-arrow"></div>\n'},usePartial:!0,useData:!0})},1464:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({1:function(e,t,s,a){var l,i=this.escapeExpression,r=this.lambda;return'    <span class="js-plugin-changelog-version badge badge-warning spacer-right" data-toggle="tooltip"\n          title="'+i(n(417).call(e,"update_center.status",null!=e?e.status:e,{name:"t",hash:{},data:a}))+'">'+i(r(null!=(l=null!=e?e.release:e)?l.version:l,e))+"</span>\n"},3:function(e,t,n,s){var a,l=this.lambda,i=this.escapeExpression;return'    <span class="js-plugin-changelog-version badge badge-success spacer-right">'+i(l(null!=(a=null!=e?e.release:e)?a.version:a,e))+"</span>\n"},5:function(e,t,n,s){var a,l=this.lambda,i=this.escapeExpression;return'    <a class="js-plugin-changelog-link" href="'+i(l(null!=(a=null!=e?e.release:e)?a.changeLogUrl:a,e))+'" target="_blank">Release Notes</a>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,s,a){var l,i=this.escapeExpression,r=this.lambda,o='<div class="little-spacer-bottom">\n';return l=n(483).call(e,null!=e?e.status:e,"COMPATIBLE",{name:"notEq",hash:{},fn:this.program(1,a),inverse:this.program(3,a),data:a}),null!=l&&(o+=l),o+='  <span class="js-plugin-changelog-date note spacer-right">'+i(n(416).call(e,null!=(l=null!=e?e.release:e)?l.date:l,{name:"d",hash:{},data:a}))+"</span>\n",l=t["if"].call(e,null!=(l=null!=e?e.release:e)?l.changeLogUrl:l,{name:"if",hash:{},fn:this.program(5,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+='</div>\n<div class="js-plugin-changelog-description">',l=r(null!=(l=null!=e?e.release:e)?l.description:l,e),null!=l&&(o+=l),o+"</div>\n"},useData:!0})},1465:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({1:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'          <a class="js-plugin-category badge spacer-left" href="#">'+l(a(null!=e?e.category:e,e))+"</a>\n"},3:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'          <li class="little-spacer-bottom">\n            <strong class="js-plugin-installed-version">'+l(a(null!=e?e.version:e,e))+"</strong>&nbsp;installed\n          </li>\n"},5:function(e,t,n,s){var a,l='          <li class="little-spacer-bottom spacer-top">\n            <strong>Updates:</strong>\n          </li>\n';return a=t.each.call(e,null!=e?e.updates:e,{name:"each",hash:{},fn:this.program(6,s),inverse:this.noop,data:s}),null!=a&&(l+=a),l},6:function(e,t,s,a){var l,i=this.lambda,r=this.escapeExpression,o='            <li class="little-spacer-bottom">\n              <div class="pull-left spacer-right">\n';return l=n(483).call(e,null!=e?e.status:e,"COMPATIBLE",{name:"notEq",hash:{},fn:this.program(7,a),inverse:this.program(9,a),data:a}),null!=l&&(o+=l),o+='              </div>\n              <div class="overflow-hidden">\n                ',l=i(null!=(l=null!=e?e.release:e)?l.description:l,e),null!=l&&(o+=l),o+'\n                <button class="button-link js-changelog issue-rule icon-ellipsis-h" data-idx="'+r(i(a&&a.index,e))+'"></button>\n              </div>\n            </li>\n'},7:function(e,t,s,a){var l,i=this.escapeExpression,r=this.lambda;return'                  <span class="js-update-version badge badge-warning" data-toggle="tooltip"\n                        title="'+i(n(417).call(e,"update_center.status",null!=e?e.status:e,{name:"t",hash:{},data:a}))+'">'+i(r(null!=(l=null!=e?e.release:e)?l.version:l,e))+"</span>\n"},9:function(e,t,n,s){var a,l=this.lambda,i=this.escapeExpression;return'                  <span class="js-update-version badge badge-success">'+i(l(null!=(a=null!=e?e.release:e)?a.version:a,e))+"</span>\n"},11:function(e,t,s,a){var l,i=this.lambda,r=this.escapeExpression,o='          <li class="little-spacer-bottom">\n            <div class="pull-left spacer-right">\n              <span class="badge badge-success">'+r(i(null!=(l=null!=e?e.release:e)?l.version:l,e))+'</span>\n            </div>\n            <div class="overflow-hidden">\n              ';return l=i(null!=(l=null!=e?e.release:e)?l.description:l,e),null!=l&&(o+=l),o+='\n              <button class="button-link js-changelog issue-rule icon-ellipsis-h" data-idx="'+r(i(a&&a.index,e))+'"></button>\n',l=n(492).call(e,null!=(l=null!=e?e.update:e)?l.requires:l,{name:"notEmpty",hash:{},fn:this.program(12,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+"            </div>\n          </li>\n"},12:function(e,t,n,s){var a,l='                <p class="little-spacer-top">\n                  <strong>Installing this plugin will also install</strong>: ';return a=t.each.call(e,null!=(a=null!=e?e.update:e)?a.requires:a,{name:"each",hash:{},fn:this.program(13,s),inverse:this.noop,data:s}),null!=a&&(l+=a),l+"\n                </p>\n"},13:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return" "+l(a(null!=e?e.name:e,e))},15:function(e,t,n,s){var a,l='          <li class="little-spacer-bottom">\n            <ul class="list-inline">\n';return a=t["if"].call(e,null!=e?e.homepageUrl:e,{name:"if",hash:{},fn:this.program(16,s),inverse:this.noop,data:s}),null!=a&&(l+=a),a=t["if"].call(e,null!=e?e.issueTrackerUrl:e,{name:"if",hash:{},fn:this.program(18,s),inverse:this.noop,data:s}),null!=a&&(l+=a),l+"            </ul>\n          </li>\n"},16:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'                <li><a class="js-plugin-homepage" href="'+l(a(null!=e?e.homepageUrl:e,e))+'" target="_blank">Homepage</a></li>\n'},18:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'                <li><a class="js-plugin-issues" href="'+l(a(null!=e?e.issueTrackerUrl:e,e))+'" target="_blank">Issue Tracker</a></li>\n'},20:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'          <li class="little-spacer-bottom">Licensed under <span class="js-plugin-license">'+l(a(null!=e?e.license:e,e))+"</span></li>\n"},22:function(e,t,n,s){var a,l='          <li class="little-spacer-bottom">\n            Developed by\n';return a=t["if"].call(e,null!=e?e.organizationUrl:e,{name:"if",hash:{},fn:this.program(23,s),inverse:this.program(25,s),data:s}),null!=a&&(l+=a),l+"          </li>\n"},23:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'              <a class="js-plugin-organization" href="'+l(a(null!=e?e.organizationUrl:e,e))+'" target="_blank">'+l(a(null!=e?e.organizationName:e,e))+"</a>\n"},25:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'              <span class="js-plugin-organization">'+l(a(null!=e?e.organizationName:e,e))+"</span>\n"},27:function(e,t,n,s){return'        <p class="text-success">Install Pending</p>\n'},29:function(e,t,n,s){return'        <p class="text-success">Update Pending</p>\n'},31:function(e,t,n,s){return'        <p class="text-danger">Uninstall Pending</p>\n'},33:function(e,t,n,s){var a,l='        <span class="text-danger">\n';return a=t.each.call(e,null!=e?e._errors:e,{name:"each",hash:{},fn:this.program(34,s),inverse:this.noop,data:s}),null!=a&&(l+=a),l+"        </span>\n"},34:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return"            "+l(a(null!=e?e.msg:e,e))+"\n"},36:function(e,t,s,a){var l,i='        <i class="js-spinner spinner hidden"></i>\n';return l=this.invokePartial(n(1466),"        ","_update-center-plugin-actions",e,void 0,t,s,a),null!=l&&(i+=l),i},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,s,a){var l,i=this.lambda,r=this.escapeExpression,o='<table class="width-100">\n  <tr>\n    <td class="text-top width-20 big-spacer-right">\n      <div>\n        <strong class="js-plugin-name">'+r(i(null!=e?e.name:e,e))+"</strong>\n";return l=t["if"].call(e,null!=e?e.category:e,{name:"if",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+='      </div>\n      <div class="js-plugin-description little-spacer-top">',l=i(null!=e?e.description:e,e),null!=l&&(o+=l),o+='</div>\n    </td>\n\n    <td class="text-top big-spacer-right">\n      <ul>\n',l=t["if"].call(e,null!=e?e.version:e,{name:"if",hash:{},fn:this.program(3,a),inverse:this.noop,data:a}),null!=l&&(o+=l),l=n(492).call(e,null!=e?e.updates:e,{name:"notEmpty",hash:{},fn:this.program(5,a),inverse:this.noop,data:a}),null!=l&&(o+=l),
l=t["if"].call(e,null!=e?e.release:e,{name:"if",hash:{},fn:this.program(11,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+='      </ul>\n    </td>\n\n    <td class="text-top width-20 big-spacer-right">\n      <ul>\n',l=n(504).call(e,null!=e?e.homepageUrl:e,null!=e?e.issueTrackerUrl:e,null!=e?e.termsAndConditionsUrl:e,{name:"any",hash:{},fn:this.program(15,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+="\n",l=t["if"].call(e,null!=e?e.license:e,{name:"if",hash:{},fn:this.program(20,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+="\n",l=t["if"].call(e,null!=e?e.organizationName:e,{name:"if",hash:{},fn:this.program(22,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+='      </ul>\n    </td>\n\n    <td class="text-top text-right width-20">\n',l=n(474).call(e,null!=e?e._status:e,"installing",{name:"eq",hash:{},fn:this.program(27,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+="\n",l=n(474).call(e,null!=e?e._status:e,"updating",{name:"eq",hash:{},fn:this.program(29,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+="\n",l=n(474).call(e,null!=e?e._status:e,"uninstalling",{name:"eq",hash:{},fn:this.program(31,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+="\n",l=n(474).call(e,null!=e?e._status:e,"failed",{name:"eq",hash:{},fn:this.program(33,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+="\n",l=t.unless.call(e,null!=e?e._status:e,{name:"unless",hash:{},fn:this.program(36,a),inverse:this.noop,data:a}),null!=l&&(o+=l),o+"    </td>\n  </tr>\n</table>\n"},usePartial:!0,useData:!0})},1466:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({1:function(e,t,n,s){var a,l='\n    <div class="button-group">\n';return a=t.each.call(e,null!=e?e.updates:e,{name:"each",hash:{},fn:this.program(2,s),inverse:this.noop,data:s}),null!=a&&(l+=a),l+'      <button class="js-uninstall button-red">Uninstall</button>\n    </div>\n\n'},2:function(e,t,s,a){var l,i="";return l=n(474).call(e,null!=e?e.status:e,"COMPATIBLE",{name:"eq",hash:{},fn:this.program(3,a),inverse:this.noop,data:a}),null!=l&&(i+=l),i},3:function(e,t,n,s){var a,l=this.lambda,i=this.escapeExpression;return'          <button class="js-update" data-verion="'+i(l(null!=(a=null!=e?e.release:e)?a.version:a,e))+'">Update to '+i(l(null!=(a=null!=e?e.release:e)?a.version:a,e))+"</button>\n"},5:function(e,t,n,s){var a,l="\n";return a=t["if"].call(e,null!=e?e.termsAndConditionsUrl:e,{name:"if",hash:{},fn:this.program(6,s),inverse:this.program(8,s),data:s}),null!=a&&(l+=a),l+"\n"},6:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'      <p class="little-spacer-bottom">\n        <input class="js-terms" type="checkbox" name="plugin-terms" id="plugin-terms-'+l(a(null!=e?e.key:e,e))+'">\n        <label for="plugin-terms-'+l(a(null!=e?e.key:e,e))+'">\n          I accept the\n          <a class="js-plugin-terms nowrap" href="'+l(a(null!=e?e.termsAndConditionsUrl:e,e))+'" target="_blank">Terms and Conditions</a>\n        </label>\n      </p>\n      <button class="js-install" disabled>Install</button>\n'},8:function(e,t,n,s){return'      <button class="js-install">Install</button>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,s){var a,l='<div class="js-actions">\n';return a=t["if"].call(e,null!=e?e.version:e,{name:"if",hash:{},fn:this.program(1,s),inverse:this.program(5,s),data:s}),null!=a&&(l+=a),l+"</div>\n"},useData:!0})},1467:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({1:function(e,t,n,s){var a=this.lambda,l=this.escapeExpression;return'          <li class="little-spacer-bottom">\n            <a class="js-plugin-release-notes" href="'+l(a(null!=e?e.changeLogUrl:e,e))+'" target="_blank">Release Notes</a>\n          </li>\n'},3:function(e,t,s,a){var l=this.escapeExpression;return'          <li class="little-spacer-bottom">Released: <span class="js-plugin-date">'+l(n(416).call(e,null!=e?e.releaseDate:e,{name:"d",hash:{},data:a}))+"</span></li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,s){var a,l=this.lambda,i=this.escapeExpression,r='<table class="width-100">\n  <tr>\n    <td class="text-top thin big-spacer-right">\n      <svg width="60" height="60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">\n        <g id="Layer1">\n            <path d="M52.0841,58.4777L48.8003,58.4777C48.8003,32.0551 26.9663,10.4603 0,10.4603L0,7.06778C28.7278,7.06778 52.1493,30.2719 52.1493,58.4777L52.084,58.4777L52.0841,58.4777Z" style="fill:rgb(75,159,213);fill-rule:nonzero;"/>\n            <path d="M54.3675,40.7974C50.4096,24.2044 36.97,10.2646 20.0072,5.45851L20.7684,2.7619C38.6228,7.95943 52.8453,22.5952 56.9554,40.2755L54.3675,40.7974L54.3675,40.7974L54.3675,40.7974Z" style="fill:rgb(75,159,213);fill-rule:nonzero;"/>\n            <path d="M58.0863,25.27C53.9978,16.332 47.1475,8.65532 38.5792,3.47949L39.6666,1.52228C48.561,6.87202 55.8898,15.0924 60,24.3784L58.0863,25.27L58.0863,25.27L58.0863,25.27L58.0863,25.27Z" style="fill:rgb(75,159,213);fill-rule:nonzero;"/>\n        </g>\n      </svg>\n    </td>\n\n    <td class="text-top width-20 big-spacer-right">\n      <div>\n        <strong class="js-plugin-name">SonarQube '+i(l(null!=e?e.version:e,e))+'</strong>\n        <span class="js-plugin-category badge badge-success spacer-left">System Upgrade</span>\n      </div>\n      <div class="js-plugin-description little-spacer-top">';return a=l(null!=e?e.description:e,e),null!=a&&(r+=a),r+='</div>\n\n      <ul class="big-spacer-top">\n',a=t["if"].call(e,null!=e?e.changeLogUrl:e,{name:"if",hash:{},fn:this.program(1,s),inverse:this.noop,data:s}),null!=a&&(r+=a),a=t["if"].call(e,null!=e?e.releaseDate:e,{name:"if",hash:{},fn:this.program(3,s),inverse:this.noop,data:s}),null!=a&&(r+=a),r+'      </ul>\n    </td>\n\n    <td class="text-top width-60">\n      <div class="pull-left spacer-right">\n        <strong>How to upgrade</strong>\n      </div>\n      <ol class="js-plugin-update-steps list-styled overflow-hidden bordered-left">\n        <li class="little-spacer-bottom">\n          Download the new SonarQube version and start it on an empty DB (the bundled H2 DB for instance).\n        </li>\n        <li class="little-spacer-bottom">\n          Install (from the update center) the plugins you want.\n        </li>\n        <li class="little-spacer-bottom">\n          Install your custom plugins (if any).\n        </li>\n        <li class="little-spacer-bottom">\n          Update the <code>conf/sonar.properties</code> file to use the relevant configurations from your old instance,\n          including the connection information for your production DB.\n        </li>\n        <li class="little-spacer-bottom">\n          Stop your old SonarQube server.\n        </li>\n        <li>\n          Restart the new SonarQube instance: you\'re done!\n        </li>\n      </ol>\n    </td>\n  </tr>\n</table>\n'},useData:!0})},1468:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(249),l=s(a),i=n(395),r=s(i),o=n(1469),u=s(o);t["default"]=r["default"].ItemView.extend({template:u["default"],collectionEvents:{all:"render"},serializeData:function(){return l["default"].extend(r["default"].ItemView.prototype.serializeData.apply(this,arguments),{total:this.collection.where({_hidden:!1}).length})}})},1469:function(e,t,n){var s=n(408);e.exports=(s["default"]||s).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,s){var a,l="function",i=t.helperMissing,r=this.escapeExpression;return'<footer class="spacer-top note text-center">\n  '+r((a=null!=(a=t.total||(null!=e?e.total:e))?a:i,typeof a===l?a.call(e,{name:"total",hash:{},data:s}):a))+" shown\n</footer>\n"},useData:!0})},1470:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(395),l=s(a);t["default"]=l["default"].Controller.extend({initialize:function(e){this.collection=e.collection,this.state=e.state},showInstalled:function(){this.state.set({section:"installed"}),this.collection.fetchInstalled()},showUpdates:function(){this.state.set({section:"updates"}),this.collection.fetchUpdates()},showAvailable:function(){this.state.set({section:"available"}),this.collection.fetchAvailable()},showSystemUpgrades:function(){this.state.set({section:"system"}),this.collection.fetchSystemUpgrades()}})},1471:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(392),l=s(a);t["default"]=l["default"].Router.extend({routes:{"":"index",installed:"showInstalled",updates:"showUpdates",available:"showAvailable",system:"showSystemUpgrades"},initialize:function(e){this.controller=e.controller},index:function(){this.navigate("installed",{trigger:!0,replace:!0})},showInstalled:function(){this.controller.showInstalled()},showUpdates:function(){this.controller.showUpdates()},showAvailable:function(){this.controller.showAvailable()},showSystemUpgrades:function(){this.controller.showSystemUpgrades()}})},1472:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(353),l=s(a),i=n(249),r=s(i),o=n(392),u=s(o),c=n(1473),d=s(c),p=u["default"].Collection.extend({model:d["default"],comparator:function(e){return e.get("name")||""},initialize:function(){this._installedCount=0,this._updatedCount=0,this._uninstalledCount=0,this.listenTo(this,"change:_status",this.onStatusChange)},parse:function(e){var t=this;return e.plugins.map(function(e){var n=[t._getLastWithStatus(e.updates,"COMPATIBLE"),t._getLastWithStatus(e.updates,"REQUIRES_SYSTEM_UPGRADE"),t._getLastWithStatus(e.updates,"DEPS_REQUIRE_SYSTEM_UPGRADE")].filter(r["default"].identity);return n=n.map(function(n){return t._extendChangelog(e.updates,n)}),r["default"].extend(e,{updates:n})})},_getLastWithStatus:function(e,t){var n=r["default"].findLastIndex(e,function(e){return e.status===t});return n!==-1?e[n]:null},_extendChangelog:function(e,t){var n=e.indexOf(t),s=n>0?e.slice(0,n):[];return r["default"].extend(t,{previousUpdates:s})},_fetchInstalled:function(){if(this._installed)return l["default"].Deferred().resolve().promise();var e=this,t={type:"GET",url:window.baseUrl+"/api/plugins/installed",success:function(t){e._installed=e.parse(t)}};return u["default"].ajax(t)},_fetchUpdates:function(){if(this._updates)return l["default"].Deferred().resolve().promise();var e=this,t={type:"GET",url:window.baseUrl+"/api/plugins/updates",success:function(t){e._updates=e.parse(t)}};return u["default"].ajax(t)},_fetchAvailable:function(){if(this._available)return l["default"].Deferred().resolve().promise();var e=this,t={type:"GET",url:window.baseUrl+"/api/plugins/available",success:function(t){e._available=e.parse(t)}};return u["default"].ajax(t)},_fetchPending:function(){var e=this,t={type:"GET",url:window.baseUrl+"/api/plugins/pending",success:function(t){var n=t.installing.map(function(e){return{key:e.key,_status:"installing"}}),s=t.updating.map(function(e){return{key:e.key,_status:"updating"}}),a=t.removing.map(function(e){return{key:e.key,_status:"uninstalling"}});e._installedCount=n.length,e._updatedCount=s.length,e._uninstalledCount=a.length,e._pending=new p([].concat(n,s,a)).models}};return u["default"].ajax(t)},_fetchSystemUpgrades:function(){if(this._systemUpdates)return l["default"].Deferred().resolve().promise();var e=this,t={type:"GET",url:window.baseUrl+"/api/system/upgrades",success:function(t){e._systemUpdates=t.upgrades.map(function(e){return r["default"].extend(e,{_system:!0})})}};return u["default"].ajax(t)},fetchInstalled:function(){var e=this;return l["default"].when(this._fetchInstalled(),this._fetchUpdates(),this._fetchPending()).done(function(){var t=new p;t.set(e._installed),t.set(e._updates,{remove:!1}),t.set(e._pending,{add:!1,remove:!1}),e.reset(t.models)})},fetchUpdates:function(){var e=this;return l["default"].when(this._fetchInstalled(),this._fetchUpdates(),this._fetchPending()).done(function(){var t=new p;t.set(e._installed),t.set(e._updates,{remove:!0}),t.set(e._pending,{add:!1,remove:!1}),e.reset(t.models)})},fetchAvailable:function(){var e=this;return l["default"].when(this._fetchAvailable(),this._fetchPending()).done(function(){var t=new p;t.set(e._available),t.set(e._pending,{add:!1,remove:!1}),e.reset(t.models)})},fetchSystemUpgrades:function(){var e=this;return l["default"].when(this._fetchSystemUpgrades()).done(function(){e.reset(e._systemUpdates)})},search:function(e){this.filter(function(t){t.set({_hidden:!t.match(e)})})},cancelAll:function(){var e=this,t={type:"POST",url:window.baseUrl+"/api/plugins/cancel_all",success:function(){e._installedCount=0,e._updatedCount=0,e._uninstalledCount=0,e.forEach(function(e){e.unset("_status")}),e.trigger("change")}};return u["default"].ajax(t)},onStatusChange:function(e,t){"installing"===t&&this._installedCount++,"updating"===t&&this._updatedCount++,"uninstalling"===t&&this._uninstalledCount++,this.trigger("change")}});t["default"]=p},1473:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(249),l=s(a),i=n(392),r=s(i);t["default"]=r["default"].Model.extend({idAttribute:"key",defaults:{_hidden:!1,_system:!1},_matchAttribute:function(e,t){var n=this.get(e)||"";return n.search(new RegExp(t,"i"))!==-1},match:function(e){return this._matchAttribute("name",e)||this._matchAttribute("category",e)||this._matchAttribute("description",e)},_action:function(e){var t=this,n=l["default"].extend({},e,{type:"POST",data:{key:this.id},beforeSend:function(){},success:function(){e.success(t)},error:function(e){t.set({_status:"failed",_errors:e.responseJSON.errors})}}),s=r["default"].ajax(n);return this.trigger("request",this,s),s},install:function(){return this._action({url:window.baseUrl+"/api/plugins/install",success:function(e){e.set({_status:"installing"})}})},update:function(){return this._action({url:window.baseUrl+"/api/plugins/update",success:function(e){e.set({_status:"updating"})}})},uninstall:function(){return this._action({url:window.baseUrl+"/api/plugins/uninstall",success:function(e){e.set({_status:"uninstalling"})}})}})}});